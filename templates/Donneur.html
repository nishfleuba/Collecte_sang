{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Donneur</title>
    <link rel="stylesheet" href="{%static 'style.css'%}" />
  </head>
  <body>
    {% include 'header.html' %}
    <section class="donneur">
      <div class="form">
        <h5>Enregitre un nouveau Donneur</h5>
        <form action="" method="post">
          {% csrf_token %}
          {{ form.as_p }}
          <button type="submit">Ajouter</button>
        </form>

        {% if form.errors %}
          <div style="color:red; margin-bottom: 10px;">
            <ul>
              {% for field in form %}
                {% for error in field.errors %}
                  <li><strong>{{ field.label }}:</strong> {{ error }}</li>
                {% endfor %}
              {% endfor %}
              {% for error in form.non_field_errors %}
                <li>{{ error }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}

        <h5>Liste des Donneurs</h5>
        <form action="" method="get">
          <input type="text" name="search" placeholder="Rechercher un Donneur" />
          <button type="submit">Rechercher</button>

      </div>
      <div class="table">
        <table>
          <thead>
           
            <tr>
              <th>Nom</th>
              <th>Prenom</th>
              <th>Date Naissance</th>
              <th>grp Sanguin</th>
              <th>Adresse</th>
              <th>Phone</th>
              <th>actions</th>
            </tr>
           
          </thead>
          <tbody>
            {% for donneur in donneurs %}
            <tr>
              <td>{{donneur.nom}}</td>
              <td>{{donneur.prenom}}</td>
              <td>{{donneur.date_naissance}}</td>
              <td>{{donneur.groupe_sanguin}}</td>
              <td>{{donneur.adresse}}</td>
              <td>{{donneur.tel}}</td>
              <td>
                <a href="#">edit</a>
              </td>
            </tr>
            {% endfor %}
          
          </tbody>
        </table>
      </div>
    </section>
  </body>
</html>
